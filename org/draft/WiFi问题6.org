#+STARTUP: overview
#+TITLE: WiFi案例6 -- 客户报怨传输高分辨率的图片时很慢
#+STARTUP: hidestars
#+OPTIONS:    H:3 num:nil toc:t \n:nil ::t |:t ^:t -:t f:t *:t tex:t d:(HIDE) tags:not-in-toc
#+HTML_HEAD: <link rel="stylesheet" title="Standard" href="css/worg.css" type="text/css" />


* 问题描述
  客户报怨他们新的网卡传输高分辨率的图片时，速率非常慢。然而，在上星期
  的售前演示时，却没有这样的问题。

* 问题分析
  抓取数据包如下：

  [[./images/2016/2016031406.png]]

  发现上述情况不断重复，即不停地进行Off-Channel扫描，然而网卡没有动，
  且非常靠近AP。 

  =一个设备在off-channel或休眠状态下是不会传输数据的。= NULL数据帧使用
  power management位来通知AP为其缓存数据帧。 通常有如下两种原因：
  1. 节省电力
  2. 执行off-channel扫描来建立一个neighbor列表,以方便未来可能进行的漫
     游动作。

  在这个案例中，STA不停地尝试建立一个neighbor列表，可以看到它在正执行
  off-channel扫描（在信息1,6,11之间不停地切换）。这表明STA正在尝试寻找
  一个更好的AP去关联，有如下可能的原因会导致这种行为发生：
  1. driver有错误。
  2. STA错误地配置了高概率的漫游。
  3. RF差，没有接收到数据。
  4. 天线坏了或者是没有接好。
  5. 干涉。

* 解决方法
  基于上述的分析以及可能的原因，发现USB接口的网卡插在显示器的背部，周
  围几乎被金属包围。这样会导致USB性能很差，很能保持连接，会导致不停地
  漫游到新的AP上。
  [[./images/2016/2016031401.jpg]]
  
